# Custom actions for hyperlinks and file fragments

# Open files with a :line fragment in $EDITOR (or falling back to vim)
protocol file
fragment_matches [0-9]+
action launch --type=overlay --cwd=current -- ${EDITOR:-nvim} +${FRAGMENT} -- ${FILE_PATH}

# Open plain text files without a fragment in the current editor
protocol file
mime text/*
action launch --type=overlay --cwd=current -- ${EDITOR:-nvim} -- ${FILE_PATH}

# Preview images with kitty graphics in an overlay window
protocol file
mime image/*
action launch --type=overlay kitten icat --hold -- ${FILE_PATH}
