# Keymaps — navigation, font tweaks, kittens, and theming

# Primary modifier (Linux default)
kitty_mod ctrl+shift

# Window / tab navigation
map kitty_mod+enter new_window_with_cwd
map kitty_mod+n     new_os_window_with_cwd
map kitty_mod+t     new_tab_with_cwd
map kitty_mod+w     close_window
map kitty_mod+]     next_window
map kitty_mod+[     previous_window
map kitty_mod+right next_tab
map kitty_mod+left  previous_tab
map kitty_mod+q     close_tab
map kitty_mod+period move_tab_forward
map kitty_mod+comma  move_tab_backward
map kitty_mod+alt+e  set_tab_title
map kitty_mod+r      start_resizing_window

# Move window in stack
map kitty_mod+f      move_window_forward
map kitty_mod+b      move_window_backward
map kitty_mod+grave  move_window_to_top

# Direct split creation
map kitty_mod+alt+minus     launch --location=hsplit --cwd=current
map kitty_mod+alt+backslash launch --location=vsplit --cwd=current

# Focus specific windows by index
map kitty_mod+1 first_window
map kitty_mod+2 second_window
map kitty_mod+3 third_window
map kitty_mod+4 fourth_window
map kitty_mod+5 fifth_window
map kitty_mod+6 sixth_window
map kitty_mod+7 seventh_window
map kitty_mod+8 eighth_window
map kitty_mod+9 ninth_window
map kitty_mod+0 tenth_window

# Font size adjustments
map kitty_mod+equal     change_font_size all +2.0
map kitty_mod+minus     change_font_size all -2.0
map kitty_mod+backspace change_font_size all 0

# Scrolling
map kitty_mod+k        scroll_line_up
map kitty_mod+j        scroll_line_down
map kitty_mod+page_up  scroll_page_up
map kitty_mod+page_down scroll_page_down
map kitty_mod+home     scroll_home
map kitty_mod+end      scroll_end
map kitty_mod+h        show_scrollback
map kitty_mod+alt+z    scroll_to_prompt -1
map kitty_mod+alt+x    scroll_to_prompt 1

# Config / tools
map kitty_mod+F12 edit_config_file
map kitty_mod+F5  load_config_file
map kitty_mod+F6  launch --type=overlay --title="Themes" python3 ~/.config/kitty/kittens/theme_gallery.py
map kitty_mod+F7  launch --type=overlay --title="Backgrounds" python3 ~/.config/kitty/kittens/background_gallery.py
map kitty_mod+F8  launch --type=overlay --title="Kittens" python3 ~/.config/kitty/kittens/kitten_menu.py
map kitty_mod+F9  launch --type=overlay --title="Help" python3 ~/.config/kitty/kittens/help_center.py
# Explicit config debugger (works across versions)
map ctrl+shift+f11 debug_config

# Theme cycle
map kitty_mod+f1 launch --type=overlay python3 ~/.config/kitty/kittens/theme_cycle.py next
map kitty_mod+shift+f1 launch --type=overlay python3 ~/.config/kitty/kittens/theme_cycle.py prev

# Clipboard convenience
map kitty_mod+c copy_to_clipboard
map kitty_mod+v paste_from_clipboard
map shift+insert paste_from_selection

# Hints and utilities
map kitty_mod+e open_url_with_hints
map kitty_mod+e>f kitten hints --type path --program -
map kitty_mod+e>l kitten hints --type line --program -
map kitty_mod+e>w kitten hints --type word --program -
map kitty_mod+e>h kitten hints --type hash --program -
map kitty_mod+u kitten unicode_input
map kitty_mod+escape kitty_shell window

# Command palette & ambient theme (use chorded prefix on p)
map kitty_mod+p>p launch --type=overlay --title="Palette" python3 ~/.config/kitty/kittens/command_palette.py
map kitty_mod+p>a launch --type=overlay --title="Ambient" python3 ~/.config/kitty/kittens/ambient_theme.py

# Clear
map kitty_mod+delete clear_terminal reset active

# Global fullscreen/maximize
map kitty_mod+f11 toggle_fullscreen
map kitty_mod+f10 toggle_maximized


# Effects - safe direct execution (shifted to avoid chord conflict on p)
map kitty_mod+shift+p launch --type=tab --title="Plasma" python3 ~/.config/kitty/kittens/plasma.py 15
map kitty_mod+o launch --type=tab --title="Fire" python3 ~/.config/kitty/kittens/fire.py 15
map kitty_mod+s launch --type=tab --title="Scroller" python3 ~/.config/kitty/kittens/sine_scroller.py

# Music - safe direct execution
map kitty_mod+m launch --type=tab --title="Music" python3 ~/.config/kitty/kittens/tracker_play.py
map kitty_mod+alt+m launch --type=tab --title="Music Loop" python3 ~/.config/kitty/kittens/tracker_play.py --loop
map kitty_mod+shift+m launch --type=overlay --title="Music Picker" python3 ~/.config/kitty/kittens/music_picker.py
map kitty_mod+ctrl+alt+period launch --type=overlay --title="Next Track" python3 ~/.config/kitty/kittens/tracker_play.py --next
map kitty_mod+ctrl+alt+comma  launch --type=overlay --title="Prev Track" python3 ~/.config/kitty/kittens/tracker_play.py --prev
map kitty_mod+ctrl+alt+s      launch --type=overlay --title="Toggle Shuffle" python3 ~/.config/kitty/kittens/tracker_play.py --shuffle

# Keygen Mode - safe direct execution
map kitty_mod+g launch --type=tab --title="Keygen" python3 ~/.config/kitty/kittens/keygen_mode.py

# Quick theme switching (safe kitten apply)
map kitty_mod+ctrl+1 launch --type=overlay python3 ~/.config/kitty/kittens/theme_apply.py fairlight_cyan.conf
map kitty_mod+ctrl+2 launch --type=overlay python3 ~/.config/kitty/kittens/theme_apply.py skidrow_green.conf
map kitty_mod+ctrl+3 launch --type=overlay python3 ~/.config/kitty/kittens/theme_apply.py reloaded_magenta.conf
map kitty_mod+ctrl+4 launch --type=overlay python3 ~/.config/kitty/kittens/theme_apply.py razor_amber.conf

# Background opacity controls
map kitty_mod+shift+equal set_background_opacity +0.1
map kitty_mod+shift+minus set_background_opacity -0.1
map kitty_mod+shift+backspace set_background_opacity default

# Background management shortcut
map kitty_mod+alt+n launch --type=overlay --title="Clear Background" python3 ~/.config/kitty/kittens/clear_background.py
map kitty_mod+alt+w launch --type=overlay --title="Wal Theme" python3 ~/.config/kitty/kittens/wal_theme.py
map kitty_mod+alt+shift+w launch --type=overlay --title="Wal Restore" python3 ~/.config/kitty/kittens/wal_theme.py --restore

# Layout cycling and directional focus
map kitty_mod+space next_layout
map kitty_mod+ctrl+h neighboring_window left
map kitty_mod+ctrl+j neighboring_window down
map kitty_mod+ctrl+k neighboring_window up
map kitty_mod+ctrl+l neighboring_window right

# Swap windows
map kitty_mod+ctrl+shift+h swap_with_window left
map kitty_mod+ctrl+shift+j swap_with_window down
map kitty_mod+ctrl+shift+k swap_with_window up
map kitty_mod+ctrl+shift+l swap_with_window right

# UI toggles
map kitty_mod+shift+t toggle_tab_bar

# Split resizing (keyboard) — kitty has no mouse-drag resize for splits
map kitty_mod+alt+left  resize_window narrower
map kitty_mod+alt+right resize_window wider
map kitty_mod+alt+up    resize_window taller
map kitty_mod+alt+down  resize_window shorter
map kitty_mod+alt+backspace resize_window reset
