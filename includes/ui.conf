# UI, fonts, visuals — tuned for readability with scene aesthetics

# Fonts (customize via: kitty +kitten choose-fonts)
font_family      Hack Nerd Font Mono
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        12.0

# Symbol ranges for common powerline/nerd glyphs (fallback if missing)
symbol_map U+E0A0-U+E0A3,U+E0B0-U+E0C8,U+E0CA,U+E0CC-U+E0D7 Hack Nerd Font Mono
symbol_map U+23FB-U+23FE,U+2665,U+26A1,U+2B58 Hack Nerd Font Mono

# Text rendering
disable_ligatures cursor
text_composition_strategy platform

# Window sizing and chrome
remember_window_size  no
initial_window_width  140c
initial_window_height 40c
window_padding_width  8 12
window_border_width   2
hide_window_decorations no
confirm_os_window_close 1
placement_strategy center
single_window_margin_width 2
inactive_text_alpha 0.8

# Visuals
background_opacity          0.90
dynamic_background_opacity  yes
background_image_layout     scaled
background_image_anchor     center
background_tint             0.97
mouse_hide_wait 1.5
focus_follows_mouse yes

# Tabs
tab_bar_edge          top
tab_bar_style         powerline
tab_bar_min_tabs      2
tab_separator         " ┇ "
tab_bar_align         center
tab_bar_margin_width  2.0
tab_bar_margin_height 2.0 0.0
tab_activity_symbol   " ⚡"
tab_title_template    " [{index}] {title} "
active_tab_title_template "▶ [{index}] {title} ◀"

# Cursor
cursor_shape                 block
cursor_beam_thickness        2.5
cursor_underline_thickness   3.0
cursor_blink_interval        0.5
cursor_stop_blinking_after   15.0

# Scrollback - increased for practical history
scrollback_lines                5000
scrollback_pager                less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER
scrollback_pager_history_size   50
scrollback_fill_enlarged_window yes

# URL handling
open_url_with             default
url_prefixes              file ftp ftps gemini git gopher http https irc ircs mailto news sftp ssh
detect_urls               yes
show_hyperlink_targets    yes
underline_hyperlinks      hover
copy_on_select            clipboard
paste_actions             confirm
strip_trailing_spaces     smart
wheel_scroll_multiplier   3.0

# Terminal id
term                  xterm-kitty
update_check_interval 0

# Remote control - restricted for stability
allow_remote_control  socket-only
# Use stable per-user filesystem socket for better reliability with single_instance
listen_on             unix:/tmp/kitty-$USER

# Mark highlight colors (works across themes)
mark1_foreground #0a0f12
mark1_background #00e676
mark2_foreground #0a0f12
mark2_background #33c4ff
mark3_foreground #0a0f12
mark3_background #a585ff
